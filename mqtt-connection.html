<link rel="import" href="../polymer/polymer.html">

<dom-module id="mqtt-connection">
  
</dom-module>

<script>
  Polymer({
    is: 'mqtt-connection',
    properties: {

      /**
       * Set the clean flag to false to receive QOS 1 and 2 messages while offline. The messages are delivered if the
       * connection is re-establish with the broker.
       */
      clean: {
        type: Boolean,
        readOnly: false,
        notify: true,
        value: true
      },

      /**
       * Indicates weather the mqtt client is connected or not
       */
      connected: {
        type: Boolean,
        readOnly: true,
        notify: true,
        value: false
      },

      /**
       * Indicates that the mqtt client is disconnecting
       */
      disconnecting: {
        type: Boolean,
        readOnly: false,
        notify: true,
        value: false
      },

      /**
       * If this
       */
      auto: {
        type: Boolean,
        readOnly: false,
        notify: true,
        value: true
      },

      /**
       * The options are directly passed to MQTT.js
       * For further documentation see https://github.com/mqttjs/MQTT.js/wiki/connection
       * options.protocolId :String MQTT
       * options.protocolVersion :number 4
       * options.keepalive :number 10
       * options.clientId :String
       * options.clean :boolean
       * options.username :String
       * options.password :String
       * options.will :Object The clients will message
       * options.will.topic :String The topic of the will message of the client
       * options.will.qos :number The QOS of the will message of the client
       * options.will.retain :boolean The retain flag of the will message of the client
       */
      options: {
        type: Object,
        readOnly: false,
        notify: true,
        value: {
          //MQIsdp
          protocolId: "MQTT",
          protocolVersion: 4,
          keepalive: 10,
          reconnectPeriod: 1000,
          clientId: "",
          encoding: "string"
        }
      },


      /**
       * The url of the MQTT broker and can be on the following protocols: 'mqtt', 'mqtts', 'tcp', 'tls', 'ws', 'wss'.
       * E.g ws://localhost:8080
       */
      url: {
        type: String,
        readOnly: false,
        notify: true,
        value: ''
      }

    }
  });
</script>
